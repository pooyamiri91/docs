<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1052px" preserveAspectRatio="none" style="width:1729px;height:1052px;background:#FFFFFF;" version="1.1" viewBox="0 0 1729 1052" width="1729px" zoomAndPan="magnify"><defs/><g><!--MD5=[84dda40acb3410cad7262261daba2aaf]
cluster c1--><g id="cluster_c1"><rect fill="none" height="692" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="887" x="7" y="204"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="166" x="367.5" y="222.6094">Customer Information</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51" x="425" y="238.582">[System]</text></g><!--MD5=[a79645e74fdddf168a098e501fbfe8e0]
cluster c2--><g id="cluster_c2"><rect fill="none" height="392" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="789" x="934" y="475"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="143" x="1257" y="493.6094">Broker Information</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51" x="1303" y="509.582">[System]</text></g><!--MD5=[4541fb81c80c07473fe4b07432ef0971]
entity app--><g id="elem_app"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="203" x="64.5" y="266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="165" x="83.5" y="292.6094">Customer Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="111" y="308.582">[Javascript, Angular]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="164" y="325.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="74.5" y="343.3613">Allows customers to manage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="130.5" y="360.9707">their profile</text></g><!--MD5=[3938681022872452b9357901721a7bd2]
entity customer_service--><g id="elem_customer_service"><path d="M132.5,537 L265.5,537 L283.5,555 L283.5,627.0469 L265.5,645.0469 L132.5,645.0469 L114.5,627.0469 L114.5,555 L132.5,537 " fill="#6495ED" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="136" x="131" y="563.6094">Customer Service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="102" x="148" y="579.582">[Java, Spring Boot]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="197" y="596.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="124.5" y="614.3613">The point of access for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="133" y="631.9707">customer information</text></g><!--MD5=[dba6d6074aa896215894e7a834d404ca]
entity message_bus--><g id="elem_message_bus"><rect fill="#438DD5" height="90.4375" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="209" x="435.5" y="275"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="103" x="488.5" y="301.6094">Message Bus</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="509" y="317.582">[RabbitMQ]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="538" y="334.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="445.5" y="352.3613">Transport for business events</text></g><!--MD5=[03d530edb6a1e95e334cdff020d059b7]
entity reporting_service--><g id="elem_reporting_service"><path d="M427,537 L591,537 L609,555 L609,627.0469 L591,645.0469 L427,645.0469 L409,627.0469 L409,555 L427,537 " fill="#6495ED" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="137" x="440.5" y="563.6094">Reporting Service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36" x="491" y="579.582">[Ruby]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="507" y="596.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="419" y="614.3613">Creates normalised data for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="449" y="631.9707">reporting purposes</text></g><!--MD5=[d281438539ff50848aa8b12911b4942e]
entity audit_service--><g id="elem_audit_service"><path d="M662,537 L820,537 L838,555 L838,627.0469 L820,645.0469 L662,645.0469 L644,627.0469 L644,555 L662,537 " fill="#6495ED" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="101" x="690.5" y="563.6094">Audit Service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52" x="715" y="579.582">[C#/.NET]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="739" y="596.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="654" y="614.3613">Provides organisation-wide</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="689" y="631.9707">auditing facilities</text></g><!--MD5=[5a3f2a73ed6d331241bacd7eb084a338]
entity customer_db--><g id="elem_customer_db"><path d="M100.5,765 C100.5,755 199,755 199,755 C199,755 297.5,755 297.5,765 L297.5,844.4375 C297.5,854.4375 199,854.4375 199,854.4375 C199,854.4375 100.5,854.4375 100.5,844.4375 L100.5,765 " fill="#87CEFA" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M100.5,765 C100.5,775 199,775 199,775 C199,775 297.5,775 297.5,765 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="151" x="123.5" y="795.6094">Customer Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="166.5" y="811.582">[Oracle 12c]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="197" y="828.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="110.5" y="846.3613">Stores customer information</text></g><!--MD5=[819454c33a690d73f74d342a973445f2]
entity reporting_db--><g id="elem_reporting_db"><path d="M398.5,747 C398.5,737 506,737 506,737 C506,737 613.5,737 613.5,747 L613.5,861.6563 C613.5,871.6563 506,871.6563 506,871.6563 C506,871.6563 398.5,871.6563 398.5,861.6563 L398.5,747 " fill="#87CEFA" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M398.5,747 C398.5,757 506,757 506,757 C506,757 613.5,757 613.5,747 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="152" x="430" y="777.6094">Reporting Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="483.5" y="793.582">[MySQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="504" y="810.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="408.5" y="828.3613">Stores a normalized version of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="417" y="845.9707">all business data for ad hoc</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="446" y="863.5801">reporting purposes</text></g><!--MD5=[203c482608765d38859cc3eb9e6e5e02]
entity audit_store--><g id="elem_audit_store"><rect fill="#87CEFA" height="108.0469" rx="12.5" ry="12.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="193" x="648.5" y="750.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85" x="702.5" y="777.1094">Audit Store</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="710.5" y="793.082">[Event Store]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="743" y="810.252"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="665.5" y="827.8613">Stores information about</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="658.5" y="845.4707">events that have happened</text></g><!--MD5=[59ceac3e1bb6f0ece56988f2042cffc2]
entity Kafka--><g id="elem_Kafka"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="203" x="1181.5" y="537"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="165" x="1200.5" y="563.6094">Customer Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="1228" y="579.582">[Javascript, Angular]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1281" y="596.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1191.5" y="614.3613">Allows customers to manage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1247.5" y="631.9707">their profile</text></g><!--MD5=[671359eb6a923c6f7868631458dc893b]
entity ZooKeeper--><g id="elem_ZooKeeper"><path d="M995.5,537 L1128.5,537 L1146.5,555 L1146.5,627.0469 L1128.5,645.0469 L995.5,645.0469 L977.5,627.0469 L977.5,555 L995.5,537 " fill="#6495ED" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="136" x="994" y="563.6094">Customer Service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="102" x="1011" y="579.582">[Java, Spring Boot]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1060" y="596.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="987.5" y="614.3613">The point of access for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="996" y="631.9707">customer information</text></g><!--MD5=[2021705b656b270ae1616113380bc97f]
entity webapp--><g id="elem_webapp"><rect fill="#F1F1F1" height="85.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="1419.5" y="548"/><image height="48" width="48" x="1430" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACjklEQVR4Xu2XbbniMBBGawEJSEACEpBQCUhAAhKQgAQkIAEJdbCnnUt2eDNNAtu7d599en5BEjJv5iuhG/4xOh34aVZBNVZBNf5rQdfrVYdq3O93GVlM0OPx6Lput9vdbjedm6Hve34ix1hM0OVy6Z6cz2edfgX12+02XLyYoOPxmARBwU9eDfBDP7uYIPN/Yr/f47PT6dQ7jhNM+ZWM+32+S1A7pJ3fZzFBh8NBTbXxniDiTTZQCNQn2UfsMRyWtwSinVZBZAA2WG3hFwfwFa1+/cchw4rfJxZkIsSkLw3gq19A/vrZdupJTWikFA3M+6phmRdEZNVUG+zpjESCJKjtqKk2Kp2a1AndM4e5zbrtZ4UmiaGC2D0sohyWpcrabDbDdFO+2qrDGWRbFYR7qoJYQFhla0sFuUCq5LZUEPsSNRlM4INcSsKcL8VYIExWFUSxzOVQ9fTWUTi0TswQPgpU0BBVGY5pPLfZaOlJuRUjECR5jQ3drIg9AqsVl78VjUDQMG1nH1rOKlBxlkyFEBfSNBZkfHw9EV9zQHgeac3CrKCP1Rj4yTRJYRZ8Y8SCCt5+i1RHJCVpUHjXJgJB72ZxGXrBXP6GqKC8i5AQ/fM5zAcMMEJEZFkZomaPiPdCJpdR/iQSCIGZKbTvnPy68LwISvumlEykexT3hKdEOuOcocV5hWT6LcgncviDVHdzTTZhKZx2C5nz05cg/94r9ImU77uJ/GXtsadS4c4Jk/1LkE+Cgo1hku5thBekcHUvJ0/q6Z5RkO+nGJMVS8FJwmaLLOSmCI7+8NPV/PhDCFMoq3v+yR8Daf8iErrHN4AXwstg7IK69i+CL8gWa7nG2Ah11U+zCqqxCqqxCqrxC+ezOtiF0BuJAAAAAElFTkSuQmCC" y="558"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1429.5" y="620.5332">webapp</text></g><!--MD5=[e29745d789d1cd237fb5892a53e7b9d1]
entity kafka--><g id="elem_kafka"><path d="M1529,562 L1587,562 C1592,562 1592,591 1592,591 C1592,591 1592,620 1587,620 L1529,620 C1524,620 1524,591 1524,591 C1524,591 1524,562 1529,562 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1587,562 C1582,562 1582,591 1582,591 C1582,620 1587,620 1587,620 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><image height="48" width="48" x="1529" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACsUlEQVR4Xu2Y4XHCMAyFvQIjMAIjMAIjMAIjMAIjMAIjMAIjMII36Dvr7lWVFfLcUErv+n7kEkUXfZFl2Umpb6YSDb+tPw50Pp83m01pWq/Xh8MheizWANB+vzcUL/Dd7/foukAq0PF4JARywzxB2+02ei+QCsTwp9PJLNfrdbVamfFyuXjnJZKAEC9NBuDM/sRikoCmAhMU5eXtSyQBvV2GIJaLXkMwwhnHoWmoAqEDWWxo1cTL3W4XnP2UNOkpVIEgPDSEKa0PBbe0XRW5zgaAahsm5MMCoBshE8HBJxIFh3fAkRbcDf69xoCg2+1mT0/rhg3Ts7L2+3T2ejKQ3YKCnTUX7L3mPYIUIIQP9h8BAgoLyIQhCGWRNgJUnhlRdp+uE1KBWAe9rFsC16+4pXUsa0WkVCa/BOTnTqqAkkqp6KoAoc/65yIfeGkgpm0Jkwv+fqqbYBH79TyQb7tcN0wYJg4HTnDJW6gbEKMZ4piW/5Tmgfi6ac59bYk5eKx5IEwNi5f2fs6gMtEIRvVMIJzH2+OaB/KLV7z3tcJeNGS+SkIjCe3AZwi38CYoOxzDVHiseaDq+m9ppX1sCl3bBGJgcZQpWPwcfCAJiFvYKaVwQXgrZUwloNqYfJ68bKeBYB4Lzhg1ZAVHJuxpS4cJIfFErhIIicswEIT29cQNQjotggaATHx6WqpkDXaCBnuveY+gx0AMHMrFjL8AxHXGlwuXYeUvwBiQ3+QjGT2Tn4+oNjR3vzNR1pYBoP5rq2S/Y1K3ok2xqgOFpuxbQP+hCGfvkOZySioQA/D7xo9Ouqyi2uAjNmhKAmLssCXi6IjDoUgC4niFwARNdybfkwTEwO/yO8bv8/khdnMbauWjXZQEVL/++tg0+cvovUAqUJ34z9L3oYUaAKrv9uP8NfoHmtMH68ma3Lx0fSEAAAAASUVORK5CYII=" y="567"/></g><!--MD5=[995a46705506099b563611b182911a66]
entity daemon--><g id="elem_daemon"><rect fill="#F1F1F1" height="85.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="1627.5" y="548"/><image height="48" width="48" x="1639" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACzUlEQVR4Xu2XXbHrMAyETaEQCqEQCqEQAqEQCqEQCiEQCiEQCiEMzjfeG41jJ/FPMnP70H04k8qOtZFWko8bvwwuNvxv/Ajl8COUw/GE7vd7bKrBwYSGYbhcLrG1BgcT6rrudDrF1hocSej1ejnnviVCYgOez2e8VoNjCCFksTmfz/FaJfYS+nw+5EhswPv9lpE4Xa9XlmQpxy5COEPCxqbve6oMHvqJwOMXCtBOCPdGxfnYmIzcDiU1EiISARk3eOiZmPEcv1CMRkKkw9hIJWYhcvHuGjQSoprk3gaFSXu2rx6N75t7y45ZassqQiMh068Rejwestxut3BnLRoJARV8WE3WAvbIqJ2QmlA4Sq0R7AlSO6Fx4kSyzCIl7ZmvuwiN0wXIlKTi33NHqyCkXkw88Ed2GFi2ZKKhHaQTA51h5K2SAiwixFkmWPQRUgkB3VDOat9s5q/VYFbvRYR0loEcQatLgJHJaj2TbSF1XVHYEBy8gCJChNpm+DYIJDyU0+gQEueOImTgiyUj/j4n9B7ZgUr8XIHe6wgp7GFZRYAx5NK7xzDdBbK6riMUXsfQCvFfVI/zqTEBQUJLaR5T1BHCR+f/0THHKVT55FSv8MB+LGu1GaGOkED81VQiJS3msZ93rCyqCfXTwFIpqdnwILGrGLukN5YjT0j+FINxflfcgKWsFluEBj+n5IBPJyQqH5zxM1USFuzEaTFHUZ9cwxYhdQ63Pr01FgY/H+K1OdQv0naQYouQThHI1KJmsyDR+jDil21C4zahMbiYCpQ0pyt3/QQFCeBPamMDH2DpdvOR3G/WXYbQOI0LTgz7XgkkKfiZe7Wx7RrMEwrBidZ+7h5y0PnrDiCiBIA9UQwwqjyz0q4jhKeNHhhi8M0CinZNIMB7Rb0GnBEknJHHyxx4TecdYSuRs9BCKIKK/5/CJ2RDuIYDCB2LH6Ecvo7QH7hHQFNK0g+hAAAAAElFTkSuQmCC" y="558"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1637.5" y="620.5332">daemon</text></g><!--MD5=[7b9a9086a478fe329238ed6ac6c7c115]
entity cassandra--><g id="elem_cassandra"><path d="M1629,776 C1629,766 1663,766 1663,766 C1663,766 1697,766 1697,776 L1697,833 C1697,843 1663,843 1663,843 C1663,843 1629,843 1629,833 L1629,776 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1629,776 C1629,786 1663,786 1663,786 C1663,786 1697,786 1697,776 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><image height="48" width="48" x="1639" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACvklEQVR4Xu2WUZXjMAxFQ6EQCqEQCmEhFEIhFEIhBEIgBEIgBEIYzK3erKqxnTjt7J6ZD9+POR7bkZ4lWW63/DK6dOKnaYJqNEE1mqAaTVCNJqjGvxE0zzN/x3GMM5rUYBiGuDP+TfiWoL7v8YTd6/X6xzifz7fbjUlm2HC/36dpulwu8q3NzDCPegZYSGy+IwijGMJNt87hcOAvEo/HI+LwjQK+4ls+ZMxkb8imR/cFQRjl9KfTKXW+gjSJq4EFQkh4MIIU5MoyZl8TRKgxFHztgkjoW8US95pHKDMYXOyQkrhYkIhfRRDmOA3fuN394DiawmuMGdbIJgOFh1XV2aogtJ8MD2YxSPjQDdJZk9VoUJCpJOkqMt9Q+GaxpLIvuQLF6olXPd8TlyLE42J4YJz0G5aVo7xJeBE47Ez2cNaNVcEZOispb06RL4KUJsITJx0C9tSy4jIKiomIKIrkOm9CSxTEMoFB03Mx46nlL8kpVaeiaIrTahVBk5Fs+BRELtcOFHFzEbVj3UefLFpjD4p11zBV3PMQRGyS2twgv0o56jEJyrhE4A5Bk7XvZFta1HuIhZKjfhjRc+GruYjII9ODvXlxVk9gnmBnKPVuUqaeG1E/ZIlk6aonGxIeEZrs1VVSQZ/pXeys+tTd80agV5alPOlJZ7/b865MFW+7s5Uy/KEGiapl9KEMoczgALuj/YQQOhIi/FZrMNuPEzUIHam3Nz/x5WwJ0vVZ7LjeM+LFdo6Gxrj3HtMbi5Vd7DobZbQqKBaQjzkZEVI3V3FoRqv8qyCN9lhq0ge6X1VWBRXx9KtE5MyPqwfnYr8PfVIJ9a802OA1QZF4X1QTHoOYnSUEaaN0nDcF4TLmVLjjJBJ7AuO8KahYlTFNXxZe4U1BObOh8a8QFNlTK2v8F0HfoQmq0QTVaIJqNEE1mqAaHyE3Gdp/QBysAAAAAElFTkSuQmCC" y="790"/></g><!--MD5=[a6e63e5080b6098cbc36e97e7cf20a2e]
entity consumer--><g id="elem_consumer"><ellipse cx="102" cy="24.2282" fill="#08427B" rx="18.2282" ry="18.2282" style="stroke:#073B6F;stroke-width:0.5;"/><rect fill="#08427B" height="75.3438" rx="18.2282" ry="18.2282" style="stroke:#073B6F;stroke-width:0.5;" width="100" x="52" y="42.4563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80" x="62" y="69.0657">Consumer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="100" y="87.1145"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="64.5" y="104.7239">A consumer</text></g><!--MD5=[62cc4166db310ca44a141886713fd6cd]
entity provider--><g id="elem_provider"><ellipse cx="230" cy="24.3055" fill="#08427B" rx="16.8055" ry="16.8055" style="stroke:#073B6F;stroke-width:0.5;"/><rect fill="#08427B" height="75.3438" rx="16.8055" ry="16.8055" style="stroke:#073B6F;stroke-width:0.5;" width="85" x="187.5" y="41.1111"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="65" x="197.5" y="67.7204">Provider</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="228" y="85.7693"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="197.5" y="103.3787">A provider</text></g><!--MD5=[a06210f8c2fb43041f854a28a82d9bb1]
link webapp to kafka--><g id="link_webapp_kafka"><path d="M1488.53,591 C1498.54,591 1508.56,591 1518.57,591 " fill="none" id="webapp-to-kafka" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1523.81,591,1514.81,587,1518.81,591,1514.81,595,1523.81,591" style="stroke:#666666;stroke-width:1.0;"/></g><!--MD5=[eab8a9c44bb9cd513cc752820fa05230]
link kafka to daemon--><g id="link_kafka_daemon"><path d="M1592.04,591 C1602.04,591 1612.03,591 1622.02,591 " fill="none" id="kafka-to-daemon" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1627.24,591,1618.24,587,1622.24,591,1618.24,595,1627.24,591" style="stroke:#666666;stroke-width:1.0;"/></g><!--MD5=[0e004c3e3ea4b18b2f4482225c016544]
link daemon to cassandra--><g id="link_daemon_cassandra"><path d="M1663,634.04 C1663,670.67 1663,723.55 1663,760.47 " fill="none" id="daemon-to-cassandra" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1663,765.8,1667,756.8,1663,760.8,1659,756.8,1663,765.8" style="stroke:#666666;stroke-width:1.0;"/></g><!--MD5=[ff417a5728fced563c9835ded02c1656]
link c1 to c2--><g id="link_c1_c2"><path d="M894.0369,359.6157 C894.3498,361.1188 894.6696,362.6552 894.9959,364.223 C900.2175,389.3066 907.1088,422.4094 914,455.5112 C920.8913,488.6131 927.7825,521.7141 933.0041,546.7939 C933.3304,548.3614 933.6502,549.8976 933.9631,551.4004 " fill="none" id="c1-to-c2" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="933.9631,551.4004,935.2695,542.9569,929.3955,544.1799,933.9631,551.4004" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="921" y="424.957">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="913" y="440.0508">[HTTPS]</text></g><!--MD5=[eaa34a499798770e824ae93d142b0865]
link consumer to app--><g id="link_consumer_app"><path d="M115.81,118.23 C126.06,159.24 140.05,215.18 150.65,257.59 " fill="none" id="consumer-to-app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="152.65,265.62,153.6165,257.1308,147.7962,258.5886,152.65,265.62" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="140" y="161.457">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="132" y="176.5508">[HTTPS]</text></g><!--MD5=[a1a0444f357156e3acdff55e8dd12e37]
link provider to app--><g id="link_provider_app"><path d="M216.58,116.67 C206.27,157.94 192,214.98 181.25,257.98 " fill="none" id="provider-to-app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="179.29,265.84,184.1407,258.8065,178.3199,257.3513,179.29,265.84" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="217" y="161.457">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="209" y="176.5508">[HTTPS]</text></g><!--MD5=[51e407f081fd82403ac79d439d8428c9]
link app to customer_service--><g id="link_app_customer_service"><path d="M172.52,374.15 C177.98,418.63 185.77,482.14 191.49,528.76 " fill="none" id="app-to-customer_service" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="192.49,536.96,194.4819,528.6514,188.5276,529.3904,192.49,536.96" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="105" x="188" y="417.457">Updates customer</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="99" x="192.5" y="432.5508">information using</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="183" y="447.6445">[async, JSON/HTTPS]</text></g><!--MD5=[0a0e8b647d7ce261624080a2974e27fc]
reverse link app to customer_service--><g id="link_app_customer_service"><path d="M90.03,380.83 C84.44,388.05 79.59,395.8 76,404 C67.62,423.13 68.6,431.47 76,451 C88.33,483.54 112.15,513.37 135.57,536.97 " fill="none" id="app-backto-customer_service" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="95.35,374.35,87.952,378.6243,92.5867,382.4348,95.35,374.35" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="91" x="77" y="424.957">Sends events to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="87.5" y="440.0508">[WebSocket]</text></g><!--MD5=[8888297219a7b23cd24ecf3962f71c36]
reverse link message_bus to customer_service--><g id="link_message_bus_customer_service"><path d="M432.09,368.95 C412.71,379.39 393.22,391.2 376,404 C324.31,442.43 274.58,496.74 241.07,536.76 " fill="none" id="message_bus-backto-customer_service" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="439.21,365.16,430.7359,366.251,433.5428,371.5539,439.21,365.16" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="136" x="377" y="424.957">Sends customer update</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52" x="420.5" y="440.0508">events to</text></g><!--MD5=[3a9ae2bc45f014f73ae4ec094b568494]
link customer_service to customer_db--><g id="link_customer_service_customer_db"><path d="M199,645.1 C199,675.99 199,714.92 199,746.46 " fill="none" id="customer_service-to-customer_db" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="199,754.73,202,746.73,196,746.73,199,754.73" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="79" x="200" y="688.457">Stores data in</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38" x="220.5" y="703.5508">[JDBC]</text></g><!--MD5=[aab3e1d17952107c7943e6111a55934d]
link message_bus to reporting_service--><g id="link_message_bus_reporting_service"><path d="M534.92,365.12 C529.79,409.59 521.84,478.61 516.09,528.46 " fill="none" id="message_bus-to-reporting_service" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="515.15,536.59,519.0451,528.9855,513.0845,528.2994,515.15,536.59" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="136" x="530" y="424.957">Sends customer update</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52" x="573.5" y="440.0508">events to</text></g><!--MD5=[47d0ff9262dcd057455e43360ea526e6]
link message_bus to audit_service--><g id="link_message_bus_audit_service"><path d="M633.96,365.11 C650.3,376.02 665.9,388.98 678,404 C706.85,439.82 722.79,489.54 731.41,528.56 " fill="none" id="message_bus-to-audit_service" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="733.14,536.72,734.4035,528.2699,728.5357,529.5227,733.14,536.72" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="136" x="706" y="424.957">Sends customer update</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="52" x="749.5" y="440.0508">events to</text></g><!--MD5=[98a257615ec003bc19f8f9f5c1b27e75]
link reporting_service to reporting_db--><g id="link_reporting_service_reporting_db"><path d="M508.25,645.1 C507.89,670.38 507.45,701.05 507.06,728.64 " fill="none" id="reporting_service-to-reporting_db" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="506.95,736.72,510.064,728.7637,504.0646,728.678,506.95,736.72" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="79" x="508" y="695.957">Stores data in</text></g><!--MD5=[908e6d2f846515fd3481ab93e375cb8c]
link audit_service to audit_store--><g id="link_audit_service_audit_store"><path d="M742,645.1 C742.56,674.64 743.26,711.54 743.84,742.29 " fill="none" id="audit_service-to-audit_store" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="744,750.38,746.8423,742.3226,740.8435,742.4405,744,750.38" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="92" x="744" y="695.957">Stores events in</text></g><!--MD5=[7ed498674e62ca5e4e9828f654841866]
link reporting_service to audit_service--><rect fill="none" height="119.6563" id="_legend" rx="7.5" ry="7.5" style="stroke:none;stroke-width:1.0;" width="192" x="1511" y="913"/><rect fill="none" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="920"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="53" x="1516" y="934.5332">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1569" y="934.5332"> </text><rect fill="#08427B" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="937.6094"/><text fill="#073B6F" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1520" y="952.1426">▯</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1534" y="952.1426"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1542" y="952.1426">person</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1590" y="952.1426"> </text><rect fill="#438DD5" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="955.2188"/><text fill="#3C7FC0" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1520" y="969.752">▯</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1534" y="969.752"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1542" y="969.752">container</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1605" y="969.752"> </text><rect fill="none" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="972.8281"/><text fill="#444444" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1520" y="987.3613">▯</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1534" y="987.3613"> </text><text fill="#444444" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1542" y="987.3613">system boundary</text><text fill="#444444" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="40" x="1654" y="988.2402">(dashed)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1694" y="987.3613"> </text><rect fill="#6495ED" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="990.4375"/><text fill="#6495ED" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1520" y="1004.9707">▯</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1534" y="1004.9707"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1538" y="1004.9707">micro service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="58" x="1625" y="1005.8496">(eight sided)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1683" y="1004.9707"> </text><rect fill="#87CEFA" height="17.6094" style="stroke:none;stroke-width:1.0;" width="182" x="1516" y="1008.0469"/><text fill="#87CEFA" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1520" y="1022.5801">▯</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1534" y="1022.5801"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1542" y="1022.5801">storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="65" x="1594" y="1023.459">(rounded box)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1659" y="1022.5801"> </text><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="920" y2="920"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="937.6094" y2="937.6094"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="955.2188" y2="955.2188"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="972.8281" y2="972.8281"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="990.4375" y2="990.4375"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="1008.0469" y2="1008.0469"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1698" y1="1025.6563" y2="1025.6563"/><line style="stroke:none;stroke-width:1.0;" x1="1516" x2="1516" y1="920" y2="1025.6563"/><line style="stroke:none;stroke-width:1.0;" x1="1698" x2="1698" y1="920" y2="1025.6563"/><!--MD5=[ae51b71c83dc03fd77ab62f488f8db7a]
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

!define SPRITESURL https://raw.githubusercontent.com/rabelenda/cicon-plantuml-sprites/v1.0/sprites

!includeurl SPRITESURL/tomcat.puml
!includeurl SPRITESURL/kafka.puml
!includeurl SPRITESURL/java.puml
!includeurl SPRITESURL/cassandra.puml

' uncomment the following line and comment the first to use locally
' !include C4_Container.puml

AddElementTag("microService", $shape=EightSidedShape(), $bgColor="CornflowerBlue", $fontColor="white", $legendText="micro service\neight sided")
AddElementTag("storage", $shape=RoundedBoxShape(), $bgColor="lightSkyBlue", $fontColor="white")

SHOW_PERSON_OUTLINE()

Person(consumer, Consumer, "A consumer")
Person(provider, Provider, "A provider")

System_Boundary(c1, "Customer Information") {
    Container(app, "Customer Application", "Javascript, Angular", "Allows customers to manage their profile")
    Container(customer_service, "Customer Service", "Java, Spring Boot", "The point of access for customer information", $tags = "microService")
    Container(message_bus, "Message Bus", "RabbitMQ", "Transport for business events")
    Container(reporting_service, "Reporting Service", "Ruby", "Creates normalised data for reporting purposes", $tags = "microService")
    Container(audit_service, "Audit Service", "C#/.NET", "Provides organisation-wide auditing facilities", $tags = "microService")
    ContainerDb(customer_db, "Customer Database", "Oracle 12c", "Stores customer information", $tags = "storage")
    ContainerDb(reporting_db, "Reporting Database", "MySQL", "Stores a normalized version of all business data for ad hoc reporting purposes", $tags = "storage")
    Container(audit_store, "Audit Store", "Event Store", "Stores information about events that have happened", $tags = "storage")
}

System_Boundary(c2, "Broker Information") {
    Container(Kafka, "Customer Application", "Javascript, Angular", "Allows customers to manage their profile")
    Container(ZooKeeper, "Customer Service", "Java, Spring Boot", "The point of access for customer information", $tags = "microService")
}

System_Boundary(c2, "Broker Information") {
    rectangle "<$tomcat>\nwebapp" as webapp
    queue "<$kafka>" as kafka
    rectangle "<$java>\ndaemon" as daemon
    database "<$cassandra>" as cassandra
}

webapp -> kafka
kafka -> daemon
daemon - -> cassandra

Rel(c1, c2, "Uses", "HTTPS")

Rel_D(consumer, app, "Uses", "HTTPS")
Rel_D(provider, app, "Uses", "HTTPS")

Rel_D(app, customer_service, "Updates customer information using", "async, JSON/HTTPS")

Rel_U(customer_service, app, "Sends events to", "WebSocket")
Rel_U(customer_service, message_bus, "Sends customer update events to")
Rel(customer_service, customer_db, "Stores data in", "JDBC")

Rel(message_bus, reporting_service, "Sends customer update events to")
Rel(message_bus, audit_service, "Sends customer update events to")

Rel(reporting_service, reporting_db, "Stores data in")
Rel(audit_service, audit_store, "Stores events in")

Lay_R(reporting_service, audit_service)

SHOW_LEGEND()
@enduml

@startuml






















skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendFontColor #FFFFFF
skinparam LegendBackgroundColor transparent
skinparam LegendBorderColor transparent

skinparam rectangle<<legendArea>> {
    backgroundcolor transparent
    bordercolor transparent
}

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam database {
    StereotypeFontSize 12
}

skinparam queue {
    StereotypeFontSize 12
}

skinparam arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam person {
    StereotypeFontSize 12
}

skinparam actor {
    StereotypeFontSize 12
    style awesome
}

skinparam rectangle<<boundary>> {
    StereotypeFontSize 6
    StereotypeFontColor transparent
    BorderStyle dashed
}

skinparam package {
    StereotypeFontSize 6
    StereotypeFontColor transparent
    FontStyle plain
    BackgroundColor transparent
}

























































































skinparam rectangle<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<boundary>>StereotypeFontColor transparent
skinparam rectangle<<boundary>>StereotypeFontColor transparent

skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent


skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent


skinparam rectangle<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<container_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<container_boundary>>StereotypeFontColor transparent
skinparam rectangle<<container_boundary>>StereotypeFontColor transparent




































skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam queue<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam person<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam actor<<system>> {
    StereotypeFontColor #1168BD
    FontColor #1168BD
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam queue<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam person<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam actor<<external_system>> {
    StereotypeFontColor #999999
    FontColor #999999
    BackgroundColor #999999
    BorderColor #8A8A8A
}


skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent


skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent






sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $person2 [48x48/16] {
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000002578888300000000005888864100000000000
0000000007DFFFFFFFFD9643347BFFFFFFFFFB4000000000
00000004EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB10000000
0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
00003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
0000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF50000
0003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0000
0009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
0009FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF2000
0003FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFD0000
0000BFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF50000
00003FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFB00000
000006FFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFE100000
0000007FFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFD2000000
00000004EFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFB10000000
0000000007DF8FFFFFFFFFFFFFFFFFFFFFF8FB4000000000
000000000002578888888888888888888864100000000000
}

sprite $robot [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000005BFFFFFFFFFFFFFFFFFFFFFE9100000000000
0000000000AFFFFFFFFFFFFFFFFFFFFFFFFFE30000000000
0000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFE1000000000
000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000000000
000000004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFC000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000699405FFFFFFC427FFFFFFFFFC427FFFFFFE009982000
008FFF705FFFFFE10006FFFFFFFE00007FFFFFE00FFFF100
00CFFF705FFFFFA00001FFFFFFF900002FFFFFE00FFFF500
00DFFF705FFFFFB00002FFFFFFFA00003FFFFFE00FFFF500
00DFFF705FFFFFF4000AFFFFFFFF3000BFFFFFE00FFFF500
00DFFF705FFFFFFFA8DFFFFFFFFFFA8DFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00CFFF705FFFFFF87777777777777777CFFFFFE00FFFF500
008FFF705FFFFFF100000000000000009FFFFFE00FFFF100
000699405FFFFFF76666666666666666CFFFFFE009982000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFC000000000
000000000EFFFFFFFFFFFFFFFFFFFFFFFFFFFF7000000000
0000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFD0000000000
00000000004CFFFFFFFFFFFFFFFFFFFFFFFF910000000000
000000000000011111111111111111111110000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $robot2 [48x48/16] {
000000000000000088888888888888880000000000000000
000000000000000AFFFFFFFFFFFFFFFFA000000000000000
00000000000000CFFFFFFFFFFFFFFFFFFC00000000000000
00000000000004EFFFFFFFFFFFFFFFFFFE40000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFFA0000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000888FFFFFFFFFFFFFFFFFFFF88800000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000000888FFFFFFFFFFFFFFFFFFFF88800000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000004CFFFFFFFFFFFFFFFFFFC40000000000000
000000488888848CFFFFFFFFFFFFFFFFC848888884000000
00000CFFFFFFFFC888888888888888888CFFFFFFFFC00000
00008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF80000
0000CFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC0000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0000CFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFC0000
00008FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF80000
00000CFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFC00000
000000488887578888888888888888888864688884000000
000000000000000000000000000000000000000000000000
}




skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}


skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}



























skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam person<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam actor<<container>> {
    StereotypeFontColor #438DD5
    FontColor #438DD5
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam person<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam actor<<external_container>> {
    StereotypeFontColor #B3B3B3
    FontColor #B3B3B3
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}


skinparam rectangle<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<container_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<container_boundary>>StereotypeFontColor transparent
skinparam rectangle<<container_boundary>>StereotypeFontColor transparent



















sprite $tomcat [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000040000000000000000200000
0000000000000000000000001FC300000000000009F40000
0000000000000000000000005FFF600000000001DFF60000
0000000000000000000000008FFFF3000000001DFFF80000
0000000000000000000000009FFFFB57999988BFFFF90000
0000000000000000000000009FFFFFFFFFFFFFFFFFFC0000
000000000000000000000000AFFFFFFFFFFFFFFFFFFC0000
000000000013426DA4000000BFFFFFFFFFFFFFFFFFFC0000
000000005BC99AFFFFA100009FFFFFFFFFFFFFFFFFFB0000
00000009910000DFFFFD10007FFFFFFFFFFFFFFFFFF90000
0000006800000017999610003FFFFFFFFFFFFFFFFFF70000
000000C000000000000000000FFFFFFFFFFFFFFFFFF40000
0000058000000000000001760AFFFFFFFFFFFFFFFFF10000
00000740000000000004BFFE02FFFFFFFFFFFFFFFFA00000
000008400000000004CFFFFF708FFFFFFFFFFFFFFF400000
0000075000000002CFFFFFFFF10DFFFFFFFFFFFFFC000000
000003800000008FFFFFFFFFFB04FFFFFFFFFFFFF6000000
000000C000002DFFFFFFFFFFFF607FFFFFFFFFFFC0000000
000000740006FFFFFFFFFFFFFFF20AFFFFFFFFFF20000000
0000000A007FFFFFFFFFFFFFFFFE108FFFFFFFF500000000
0000000009FFFFFFFFFFFFFFFFFFD207FFFFFF7000000000
000000009FFFFFFFFFFFFFFFFFFFFE202CFFF50000000000
00000008FFFFFFFFFFFFFFFFFFFFFFF6004A300000000000
0000006FFFFFFFFFFFFFFFFFFFFFFFFFB200000000000000
000004FFFFFD9889BDEFFFFFFFFFFFFFFFC6850000000000
00002FFFF91000000000368CFFFFFFFFFFFFFF4000000000
0000CFFE20000BFFD5000000159EFFFFFFFFFFF300000000
0008FFF30000009FFC00000000004AFFFFFFFFFF40000000
003FFF7000000006FFCCA10000000017DFFFFFFFF2000000
00CFFF10000000003DFFF6000000000004BFFFFFFE100000
07FFFD0000000000000000000000000000039FFFFFFEB400
1FFFFC000000000000000000000000000000029FFFFFFF80
29999900000000000000000000000000000000018FFFFFF4
000000000000000000000000000000000000000002788882
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $kafka [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000005CFFD8000000000000000000000000000
000000000000009FFFFFFC10000000000000000000000000
00000000000007FFFDCFFFB0000000000000000000000000
0000000000000FFF6003EFF4000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000006FF800004FF9000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000000EFF6003EFF4000000464100000000000000
00000000000005FFFEEFFFA000007FFFFF80000000000000
000000000000008FFFFFFC000009FFFFFFF9000000000000
0000000000000003AFFD7000005FFFB8BFFF500000000000
00000000000000002FF4000000CFF70006FFC00000000000
00000000000000002FF4000000FFF00000EFF00000000000
00000000000000002FF4000000FFE00000EFF00000000000
000000000000002AFFFFC50000EFF40003FFD00000000000
00000000000006FFFFFFFFB02CFFFF646EFF800000000000
0000000000005FFFFFFFFFFCFFFFFFFFFFFC000000000000
000000000001FFFFB658FFFFFF71BFFFFFB1000000000000
000000000007FFF600002EFFE20003898400000000000000
00000000000BFFC0000006FFF10000000000000000000000
00000000000DFF90000003FFF40000000000000000000000
00000000000DFF90000003FFF30000000000000000000000
00000000000AFFD0000007FFF10000000000000000000000
000000000006FFF800005FFFF30005ACA600000000000000
000000000000EFFFC77AFFFFFF83DFFFFFD2000000000000
0000000000004FFFFFFFFFFAFFFFFFFFFFFE100000000000
00000000000004EFFFFFFF701AFFFE525DFF800000000000
0000000000000018CFFE820000EFF30002FFD00000000000
00000000000000002FF6000000FFE00000EFF00000000000
00000000000000002FF6000000EFF10000FFF00000000000
00000000000000002FF6000000BFF80008FFB00000000000
0000000000000003AFFE6000004FFFC9CFFF400000000000
000000000000007FFFFFFC100007FFFFFFF8000000000000
00000000000005FFFFEFFFA000005EFFFE60000000000000
0000000000000EFF7004FFF3000000242000000000000000
0000000000004FFC00007FF8000000000000000000000000
0000000000005FF800004FF9000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000001FFF5002EFF5000000000000000000000000
00000000000008FFFCCFFFC0000000000000000000000000
000000000000009FFFFFFC10000000000000000000000000
0000000000000005CFFD8000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $java [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000800000000000000000000
000000000000000000000000002C00000000000000000000
000000000000000000000000009E00000000000000000000
00000000000000000000000005FC00000000000000000000
0000000000000000000000005FF600000000000000000000
000000000000000000000008FFD000000000000000000000
0000000000000000000001CFFF3016BC3000000000000000
000000000000000000003EFFF42BFF900000000000000000
00000000000000000004FFFF35FFF6000000000000000000
0000000000000000002FFFF22FFE20000000000000000000
0000000000000000009FFF309FF400000000000000000000
000000000000000000DFF800CFF000000000000000000000
000000000000000000CFF200CFF300000000000000000000
0000000000000000005FF2007FFA00000000000000000000
0000000000000000000EF6000EFF40000000000000000000
00000000000000000003EE0004FFA0000000000000000000
000000000000000000003E7000CFC0000000000000000000
0000000000000000000002C2009F80000000000000000000
00000000000000357841000400D900000698300000000000
0000000000008EFFA100000005400022127FF40000000000
000000000000FFFFFCA999999ABDFFC10008FB0000000000
0000000000003BFFFFFFFFFFFFEC84000006FB0000000000
00000000000000015756664420000000000AF80000000000
0000000000000008FC20000000146000002FF30000000000
000000000000000EFFFDB99ABDFFFB1003DF400000000000
00000000000000019EFFFFFFFFFD95005E91000000000000
000000000000000002835666420000004100000000000000
00000000000000004FF8422457BF90000000000000000000
00000000000246409FFFFFFFFFFFF5000000000000000000
0000000002CFFB8605BEFFFFFEB71000000C100000000000
000000000AFFC0000000122100000000008F600000000000
0000000008FFF92000000000000000004AFE300000000000
00000000007FFFFDA8644422234689CFFFA1004100000000
0000000000015ADFFFFFFFFFFFFFFFEB6100199000000000
000000000000000135688999887431000049FC1000000000
00000000000000036420000000000248BFFD600000000000
00000000000000000258ACCCCCDEFFFDB730000000000000
000000000000000000000012444442000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $cassandra [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000001030001101140010101000000
000000000000000000005418AAB748062910412632500000
00000000000000000159FFFFFFFFFEFAD823519385500300
0000000000000027CFFFFFFFFFFFFFEFFF882B6C5A007300
0000000000004BFFFFFFFFFFFFFFFF9049FAFFE9B02B6031
00000000004CB49FFFFFFFFFFFFFFFE00006EFFF9DF73610
000000002CC300BFFFFFFE402BFFFFF0000005CFFFFD8000
00000007D50000CFFFFFF30000CFFFF00000000699610000
000001CB100000AFFFFFC000008FFFC00000003FA4000000
00002C700000005FFFFFC000008FFF80000000CFE5000000
0005B2000000000FFFFFF40000DFFF20000007FFE2200000
0068000000000007FFFFFF624CFFF80000004DEF78000000
0530000000000000BFFFFFFFFFFFB0000005F80372300000
000000000000000008FFFFFFFFF90000019FF93000000000
2410000122000000004BFFFFFC6000006ECD990000000000
02578899ADFEB610000015653000049FFF63374000000000
0000000001E87FDBA8643222579CFECF18C0105100000000
0000000006204500DFFFFFFDDFF8E5055085000300000000
0000000020002001A1C6E1A00E7936006008000000000000
0000000000000004004960300B1913002200400000000000
000000000000000000090001080050000600100000000000
000000000000000000520000060040000400000000000000
000000000000000000300000030020000000000000000000
000000000000000000000000110020000000000000000000
000000000000000000000000000010000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam rectangle<<microService>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor CornflowerBlue
    RoundCorner 0
    DiagonalCorner 18
}
skinparam database<<microService>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor CornflowerBlue
}
skinparam queue<<microService>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor CornflowerBlue
}
skinparam person<<microService>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor CornflowerBlue
}
skinparam actor<<microService>> {
    StereotypeFontColor CornflowerBlue
    FontColor CornflowerBlue
    BackgroundColor CornflowerBlue
}

skinparam rectangle<<storage>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor lightSkyBlue
    RoundCorner 25
    DiagonalCorner 0
}
skinparam database<<storage>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor lightSkyBlue
}
skinparam queue<<storage>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor lightSkyBlue
}
skinparam person<<storage>> {
    StereotypeFontColor white
    FontColor white
    BackgroundColor lightSkyBlue
}
skinparam actor<<storage>> {
    StereotypeFontColor lightSkyBlue
    FontColor lightSkyBlue
    BackgroundColor lightSkyBlue
}


    
skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}

  
skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}


person "== Consumer\n\nA consumer" <<person>> as consumer 
person "== Provider\n\nA provider" <<person>> as provider 

  rectangle "== Customer Information\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as c1  {
    rectangle "== Customer Application\n//<size:12>[Javascript, Angular]</size>//\n\nAllows customers to manage their profile" <<container>> as app 
    rectangle "== Customer Service\n//<size:12>[Java, Spring Boot]</size>//\n\nThe point of access for customer information" <<microService>><<container>> as customer_service 
    rectangle "== Message Bus\n//<size:12>[RabbitMQ]</size>//\n\nTransport for business events" <<container>> as message_bus 
    rectangle "== Reporting Service\n//<size:12>[Ruby]</size>//\n\nCreates normalised data for reporting purposes" <<microService>><<container>> as reporting_service 
    rectangle "== Audit Service\n//<size:12>[C#/.NET]</size>//\n\nProvides organisation-wide auditing facilities" <<microService>><<container>> as audit_service 
    database "== Customer Database\n//<size:12>[Oracle 12c]</size>//\n\nStores customer information" <<storage>><<container>> as customer_db 
    database "== Reporting Database\n//<size:12>[MySQL]</size>//\n\nStores a normalized version of all business data for ad hoc reporting purposes" <<storage>><<container>> as reporting_db 
    rectangle "== Audit Store\n//<size:12>[Event Store]</size>//\n\nStores information about events that have happened" <<storage>><<container>> as audit_store 
}

  rectangle "== Broker Information\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as c2  {
    rectangle "== Customer Application\n//<size:12>[Javascript, Angular]</size>//\n\nAllows customers to manage their profile" <<container>> as Kafka 
    rectangle "== Customer Service\n//<size:12>[Java, Spring Boot]</size>//\n\nThe point of access for customer information" <<microService>><<container>> as ZooKeeper 
}

  rectangle "== Broker Information\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as c2  {
    rectangle "<$tomcat>\nwebapp" as webapp
    queue "<$kafka>" as kafka
    rectangle "<$java>\ndaemon" as daemon
    database "<$cassandra>" as cassandra
}

webapp -> kafka
kafka -> daemon
daemon - -> cassandra

c1 - ->> c2 : **Uses**\n//<size:12>[HTTPS]</size>//

consumer -DOWN->> app : **Uses**\n//<size:12>[HTTPS]</size>//
provider -DOWN->> app : **Uses**\n//<size:12>[HTTPS]</size>//

app -DOWN->> customer_service : **Updates customer information using**\n//<size:12>[async, JSON/HTTPS]</size>//

customer_service -UP->> app : **Sends events to**\n//<size:12>[WebSocket]</size>//
customer_service -UP->> message_bus : **Sends customer update events to**
customer_service - ->> customer_db : **Stores data in**\n//<size:12>[JDBC]</size>//

message_bus - ->> reporting_service : **Sends customer update events to**
message_bus - ->> audit_service : **Sends customer update events to**

reporting_service - ->> reporting_db : **Stores data in**
audit_service - ->> audit_store : **Stores events in**

reporting_service -[hidden]R- audit_service

hide stereotype
legend right
<#transparent,#transparent>|<color:#000000>**Legend**</color> |
|<#08427B><color:#073B6F> <U+25AF></color> <color:#FFFFFF> person <size:10></size></color> |
|<#438DD5><color:#3C7FC0> <U+25AF></color> <color:#FFFFFF> container <size:10></size></color> |
|<#transparent><color:#444444> <U+25AF></color> <color:#444444> system boundary <size:10>(dashed)</size></color> |
|<#CornflowerBlue><color:CornflowerBlue> <U+25AF></color> <color:white>micro service <size:10>(eight sided)</size></color> |
|<#lightSkyBlue><color:lightSkyBlue> <U+25AF></color> <color:white> storage <size:10>(rounded box)</size></color> |
endlegend
@enduml

PlantUML version 1.2022.12(Sun Oct 23 21:42:26 IRST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>